---
layout: default
title: Codeword cipherbet
---
<div align="center">
    <h1>Codeword cipherbet</h1>
    
    <p>
    Encode text using the Codeword cipherbet method.
    </p>

    <label for="codeword" > Codeword: </label>
    <input type="text" id="codeword"/>
    <br/>
    <br/>

    <p id="mapping">
        <br/>
    </p>
    <br/>
    <br/>

    <label for="plaintext">Plaintext</label>
    <br/>
    <textarea id="plaintext" placeholder="Enter plaintext here..." rows="10" cols="80"></textarea>
    <br/>
    <button type="button" onClick="toCipherbet()">Encode</button>
    
    <br/>
    <br/>
    <label for="ciphertext">Ciphertext</label>
    <br>
    <textarea id="ciphertext" placeholder="Enter ciphertext here..." rows="10" cols="80"></textarea>
    <br/>
    <button type="button" onClick="fromcipherbet()">Decode</button>
    
    <script>
        function unique(text) {
            var unique = ""
            for (let letter of text) {
                if (!unique.includes(letter)) {
                    unique += letter;
                }
            }

            return unique;
        }

        function makeCipherbet(alphabet, codeword) {
            var tebahpla = alphabet.split("").reverse().join("");
            var cipherbet = unique(codeword + tebahpla);
            return cipherbet;
        }

        function makeMap(alphabet, cipherbet) {
            if (alphabet.length != cipherbet.length) {
                throw "Alphabet and cipherbet lengths are different. "
            }

            var code = {};
            for (let index = 0; index < alphabet.length; index++) {
                code[alphabet[index].toLowerCase()] = cipherbet[index].toLowerCase();
                code[alphabet[index].toUpperCase()] = cipherbet[index].toUpperCase();
            }

            return code;
        }

        function mapToText(map, alphabet, cipherbet, full) {
            if (full)
            {
                alphabet = "";
                cipherbet = "";
                for (let letter of Object.keys(map).sort()) {
                    alphabet += letter;
                    cipherbet += map[letter];
                }

                return alphabet + "<br/>" + cipherbet;
            } else {
                return alphabet + "<br/>" + cipherbet;
            }
        }

        function toCipherbet() {
            var codeword = document.getElementById("codeword").value.trim().toLowerCase().replace(/\s*/gm, '');
            var plaintext = document.getElementById("plaintext").value.trim();
            
            var alphabet = "abcdefghijklmnopqrstuvwxyz";
            var cipherbet = makeCipherbet(alphabet, codeword);
            var map = makeMap(alphabet, cipherbet);

            document.getElementById("mapping").innerHTML = mapToText(map, alphabet, cipherbet, false);

            var ciphertext = "";
            for (let letter of plaintext) {
                if (letter in map) {
                    ciphertext += map[letter];
                } else {
                    ciphertext += letter;
                }
            }

            var ciphertextbox = document.getElementById("ciphertext");
            ciphertextbox.value = ciphertext;
        }
        
        function fromcipherbet() {
            var ciphertext = document.getElementById("ciphertext").value.trim();
            var plaintext = "";
            var numbers = ciphertext.split(/\s+/);
            for (var ii=0; ii < numbers.length; ii++)
            {
                var number = numbers[ii];
                var charCode = parseInt(number, 10);
                if (isNaN(charCode)) { plaintext = plaintext + "?"; }
                else { plaintext = plaintext + String.fromCharCode(charCode); }
            }
            
            var plaintextbox = document.getElementById("plaintext");
            plaintextbox.value = plaintext;
        }
    </script>
</div>